# 简介

- bazi.py 八字排盘，能比常用的排盘更清晰地显示冲、合、刑等关系，计算五行分数，附加《三命通会》等命理评判
- luohou.py 计算罗喉日时,用于提示风水师何时慎用罗盘。
- shengxiao.py 用户生肖合婚等。

软件定制技术支持：微信或钉钉pythontesting, 一年内准备新增内容：

- 大运和流年组合排盘。


# 安装
- 安裝依赖库

```python
pip install  sxtwl bidict
```

- linux打开终端或windows打开cmd或git的bash或powercmd等工具

进入到代码所在目录。


# 使用

- 生肖合婚

```python
$ python shengxiao.py 虎
你的生肖是： 虎
你的年支是： 寅
================================================================================
合生肖是合八字的一小部分，有一定参考意义，但是不是全部。
合婚请以八字为准，技术支持：钉钉或微信pythontesting
以下为相合的生肖：
================================================================================

与你三合的生肖：马狗
与你六合的生肖：猪
与你三会的生肖：兔龙
================================================================================
以下为不合的生肖：
================================================================================

与你相冲的生肖：猴
你刑的生肖：蛇
被你刑的生肖：猴
与你相害的生肖：蛇
与你相破的生肖：猪
================================================================================
如果生肖同时在你的合与不合中，则做加减即可。
比如猪对于虎，有一个相破，有一六合，抵消就为平性。

```


- 计算罗喉日时

```python
$ python luohou.py 
公历:2021年3月23日	农历:2021年二月十一日   	辛丑-辛卯-庚午	杀师时:卯5-7申15-17
公历:2021年3月24日	农历:2021年二月十二日   	辛丑-辛卯-辛未	杀师时:午11-13辰7-9
公历:2021年3月25日	农历:2021年二月十三日   	辛丑-辛卯-壬申	杀师时:戌19-21丑1-3
公历:2021年3月26日	农历:2021年二月十四日   	辛丑-辛卯-癸酉	杀师时:子23-1午11-13
公历:2021年3月27日	农历:2021年二月十五日   	辛丑-辛卯-甲戌	杀师时:卯5-7午11-13 	年猴:丑年甲戌日 
...
```


- 八字排盘

```python

$ python bazi.py -h
usage: bazi.py [-h] [-b] [-g] [-r] [-n] [--version] year month day time

positional arguments:
  year        year
  month       month
  day         day
  time        time

optional arguments:
  -h, --help  show this help message and exit
  -b          直接输入八字
  -g          是否采用公历
  -r          是否为闰月，仅仅使用于农历
  -n          是否为女，默认为男
  --version   show program's version number and exit


$ python bazi.py 1992 4 3 5

日期:
======================================
公历:	1992年5月5日
农历:	1992年四月初三日 穿=害
------------------------------------------------------------------------------------------------------------------------
排盘源码: http://t.cn/E6zzQYj 		解读:钉钉或微信pythontesting 		墓库： {辰: 水土, 戌: 火, 丑: 金, 未: 木}
甲己-中正土  乙庚-仁义金  丙辛-威制水  丁壬-淫慝木  戊癸-无情火   三会: {亥子丑: 水, 寅卯辰: 木, 巳午未: 火, 申酉戌: 金}
========================================================================================================================
壬 乙 辛 辛            伤 偏财 己 比
申 巳 巳 卯            劫 官 官 偏财
------------------------------------------------------------------------------------------------------------------------
　　　　【年】　　　　　　　　　　　【月】　　　　　　　　　　　　【日】　　　　　　　　　　　　【时】　　　　　　
------------------------------------------------------------------------------------------------------------------------
壬＋水【伤】　　　　　　　　　乙－木【偏财】 冲辛　　　　　辛－金【天】 冲乙　　　　　　辛－金【比】 冲乙　　　　　　
申＋帝旺【长生】空　　　　　　巳－死【沐浴】【命】　　　　　巳－死【地】　　　　　　　　　卯－绝【绝】　　　　　　　　　
戊土印　壬水伤　庚金劫　　　　庚金劫　戊土印　丙火官　　　　庚金劫　戊土印　丙火官　　　　乙木偏财　　　　　　　　　　　
被刑：巳　六合：巳　暗合　　　六合：申　　　　　　　　　　　六合：申　　　　　　　　　　　暗合　　　　　　　　　　　　　
破：巳　　　　　　　　　　　　破：申　　　　　　　　　　　　破：申　　　　　　　　　　　　　　　　　　　　　　　　　　　
剑锋金　　　　　　　　　　　　覆灯火－劫杀　　　　　　　　　白蜡金－劫杀　　　　　　　　　松柏木－元辰　　　　　　　　　


大运
========================================================================================================================
[((0.0, 1992), '丙午'), ((10.0, 2002), '丁未'), ((20.0, 2012), '戊申'), ((30.0, 2022), '己酉'), ((40.0, 2032), '庚戌'), ((50.0, 2042), '辛亥'), ((60.0, 2052), '壬子'), ((70.0, 2062), '癸丑'), ((80.0, 2072), '甲寅'), ((90.0, 2082), '乙卯'), ((100.0, 2092), '丙辰'), ((110.0, 2102), '丁巳')]
星宿 ('觜', '') ('建', '气专而强，宜官府公事等。 宜：赴任、祈福、求嗣、求财、交涉、出行。 忌：上梁、嫁娶、安葬。')
========================================================================================================================
{'申子辰': '水 寅', '巳酉丑': '金 亥', '寅午戌': '火 申', '亥卯未': '木 巳'} 生：寅申巳亥 败：子午卯酉　库：辰戌丑未
地支六合: {'子丑': '土', '寅亥': '木', '卯戌': '火', '酉辰': '金', '申巳': '水', '未午': '土'}
格局: 官 	 | 天德贵人：辛 



------------------------------------------------------------------------------------------------------------------------
五行分数 {'金': 18, '木': 13, '水': 7, '火': 15, '土': 7}   八字强弱： 25 通常>29为强，需要参考月份、坐支等 weak: False
甲[财]-0   乙[偏财]-13   丙[官]-15   丁[杀]-0   戊[印]-7   己[偏印]-0   庚[劫]-8   辛[比]-10   壬[伤]-7   癸[食]-0   
------------------------------------------------------------------------------------------------------------------------
出身: 一般
财少身强，柱有比劫，不为福

**** 官分析 ****
 喜:身旺 财印   忌：身弱 偏官 伤官 刑冲 泄气 贪合 入墓
一曰正官 二曰禄神 最忌刑冲破害、伤官七煞，贪合忘官，劫财比等等，遇到这些情况便成为破格 财印并存要分开
运：财旺印衰喜印，忌食伤生财；旺印财衰喜财，喜食伤生财；带伤食用印制；
带煞伤食不碍。劫合煞财运可行，伤食可行，身旺，印绶亦可行；伤官合煞，则伤食与财俱可行，而不宜逢印
======================================
官多变杀，以干为准
有财辅助
伤官需要印或偏印来抑制，　有杀也无妨
天元作禄: 日主与官星并旺,才是贵命。大多不贵即富,即使是命局中有缺点,行到好的大运时,便能一发如雷。
有重权，防御刺史臣

------------------------------------------------------------------------------------------------------------------------
子：丁 -- 沐浴 帝旺 帝旺 [病]        女：丙 -- 病 建 建 [沐浴]          对象：甲 -- 绝 [病] 病 帝旺         情人：乙 -- 胎 [沐浴] 沐浴 建      
父：乙 -- 胎 [沐浴] 沐浴 建         母：戊 -- 病 [建] 建 沐浴          兄弟：辛 -- 帝旺 [死] 死 绝         姐妹：庚 -- 建 [长生] 长生 胎      
------------------------------------------------------------------------------------------------------------------------
========================================================================================================================
你属: 辛 特点：-- 霜 金 禄酉 土重金埋 辛人坐卯,未透乙, 大富,坐亥透丙则贵。爱冬生。 

年份: 申 特点：-- 名都 帝王所居；申宫壬水生 亥时，乃地天交泰 

天印贵人: 此号天印贵，荣达受皇封 辛 巳


五行缺水的建议参见 http://t.cn/E6zwOMq


命
=========================

    六辛日生时辛卯，妻子难为遇比肩；秋产冬生贫下格，丙临寅马却当权。
    辛日辛卯时，比肩分财。辛以乙为财，卯上乙旺，遇比分夺，损伤妻子。
    生秋冬，财官无气，平常。寅巳午月，干透丙火，丙合辛生，官贵显达。辛卯，悬针煞，柱多不吉。

    辛日时逢辛卯，二辛分夺妻财。雁行鸳侣少合谐，独立自成无碍。
    年月财星生旺，忻然禄自天来。运行比劫事沉埋，木火运中通泰。
    
    辛丑日辛卯时,春、夏生土厚地方,富贵。秋,克妻刑子。冬、艰辛。寅巳午月,近待,贵。甲戌年月、木火运,风宪。 
    
    辛卯日辛卯时,寅午戌月,财官双美,贵显。卯酉申辰年月,近侍,贵;见官印财星,妙。一云先苦,中年大发。 
    
    辛巳日辛卯时,春,财旺;夏、官旺、秋,身强;冬,懦弱。巳酉年月,行木火运,贵戚。申月、水火运,金紫。巳月、西北运,风宪。 
    
    辛未日辛卯时,纯未、丁年月,虽大权贵,不善终。寅巳亥,纯吉。 
    
    辛酉日辛卯时,出身孤苦,中年获福,末年封妻荫子,贵。巳月,官印逢天德,贵当一品。丑月、木火运、中贵。申酉亥年月,东南运,风宪。 
    
    辛亥日辛卯时,春夏,财官双美,贵显。秋冬,背禄逐马、劳碌反复。纯亥,金水氵亟秀,多发高科。辰戌,吉。丑未, 尤吉。
    
======================================


```


-- 鸣谢：本程序的日历使用库　https://pypi.org/project/sxtwl/。
